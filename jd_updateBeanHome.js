const $ = new Env('更新抢京豆邀请码');
const fs = require('fs');
const notify = $.isNode() ? require('./sendNotify') : '';
//Node.js用户请在jdCookie.js处填写京东ck;
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';

//IOS等用户直接用NobyDa的jd cookie
let cookiesArr = [], cookie = '', message = '';
if ($.isNode()) {
  Object.keys(jdCookieNode).forEach((item) => {
    cookiesArr.push(jdCookieNode[item])
  })
  if (process.env.JD_DEBUG && process.env.JD_DEBUG === 'false') console.log = () => {
  };
}
$.codeInfo = [];
const JD_API_HOST = 'https://api.m.jd.com/';
var _0xod7='jsjiami.com.v6',_0x23d0=[_0xod7,'5p2N5rmO5ZKC','JcOQw6tx','w6gBwpZEw7s=','wqkRw5FoFQ==','cQ7DmcOuCg==','dBRiG8Kew5gkKAY=','w7oAwojDng==','Ui5DP+iumuawluWnvui3kO+/i+isqOaiv+aekOe8q+i2gumGr+itvw==','5LmP5Liv6LSq5Y+5','TjzDh2sV','w5MnwqwNEcK7wop7','5p+35rqx5ZO8','w4vDt1N0FDkvwqI=','wqrDpyfCmA==','LS0YIsOl','XQBycA==','F8Omw5VgKQ==','w5LDiAjDrmE=','wqnDlmJNw4s=','wpLDnB/DtsKK','wrBBw44=','w4JhARZQQxkdNg==','SATDucOf','bjcoduivi+axt+Wkqei2ne+8ieitleagnOafp+e/mui1lOmEh+iumw==','VzPDkX0I','wrkxw5Br','5p+J6I2f5Y6v5YmY5YiF5Yq656Kp77yJ5Y+l5byT5Zmo','w4XCqkrCsg0=','DcO1wqrCpmY=','Dx80wrPCksOyw5DDi8Otwr88wqAGFQ==','FANyEQ==','Ijca','5bW15riZ5ZKK772s6LeK6L2Q','w447Yw==','5Lmu5Lqj6LWB5Y2g','JxgcWkQ=','XcO3wo/DrS7CqcO1wrU=','5p2o5ruc5ZO7','wq7DkADDksKuwpQ=','w4cOw7k=','UhMTw7HDoy4UYkvCry5oLSwGwrFsWMKmwpzCtcOIwqI0C8O+','w4HCjMKROHs=','I8KEwo3Dv8Km','w54UwokeNA==','wqfDkyLDgcKf','V0jCq8O0wrU=','eVrCr8O+woY=','wpDDpSvDucK5','w43DtwU=','w6cIwoLDlcOCw5vCnMKfw5kCwoHDgg==','C8OMQAxg','w4IXwpl0w5Q=','Uwt9ZcK/wpJQw7LDjcO+wqwdw7cva8KnBQvCjcKjwpnDhhYqIXkZHG9PPsKvIcKWw4vDpibDgU1yY8OUAMKZasO4fSYDUcOHbDlkRXtKL3ocfHhyw5ZHwqwwNcOHwpjDqk4fSXPCslA=','w4/CugDDuVg=','worDszDCoxM=','bFLCug==','AMKiwqbDtcK7wp8LworCiA==','wrbDvTM=','J8OsXsKfw7w=','MSJBHgs=','wq9jw7RWwo4=','NAdKPRw=','KhcMXg==','cljCrsOAwozCgMKGbA==','dBXCkjtd','FiAsIsOt','cTbCjw==','5LuT5Lmx6LW95Yyj','dX0ZMBI=','woDChx0Nw6VPw45q','w5jDrUR5','5p+f6I+q5YyZ5Ymf5Ymd5YuQ56C6772a6ZSX6K+m5L6Z5oCI','5b+n5Zq05aex6LW5772V6Za66K6d5L2Q5oKn','c0nCr8OZwqHCiMKLb2g=','w4Y1cGw=','wq44w4V4PFbDi8KLwrk=','5p2/6IyS5Y2O5Yip5YuB5Yum56K277y26ZSI6K2J5L2e5oKJ','w4zDuUNw','w5DCiBXDvUM=','QcOAKztC','woDDhw7DtMKp','C8OAwr3CmWFA','woQ6wqk5N8OXXMOQwqvCkFhhEnfDoMOuPWnDgcKFTyrCrGNF','wqPDhmJWw68dQCJ7','wpd0Aw9XQE0XKyZUw5QVw7fCvWLCgSIyJcOKKMKvIHzCrz3CncKv','M8KpLE4Ww7QCw50owp5kwo8=','wojDqBvCoB8=','FsOxwrxuYsO+KyDCjj8=','w7lYw6xwwqPCrw==','w5TCqsOo','w6DCncKmBFjDo04=','UzjDj0Ui','wobCpCw+w6Y=','wr85woQkwp4=','JQwWfXA=','HgB0','5LuL5Lqz6Le85Yyr','wrM5w4dhF3TDicKK','5b+Q5ZmQ5oiA5Yqg','EQB3EyQ6wqnCmg==','A8KjwqfDtA==','w4dwAQxXSx4=','w5zCq8OwGwbCoMOlw7HDjcO0JMKFUQ==','djzCjVDDh8KjQ0MReg==','Qh9fw4nDsnsOH2DCjnt8KyQEw6YsR8Oew6PCusKXwq0/AMKCw6IOw6QYRcKYw4Y1wqTDksOlCcKNwq0oTcOOwqXDlsKBGsKswpxVw4pcFkYowqHCq1PCm8O9EztEw7TCvcOhw6wPw7QDwqouw5ggcknCpA==','w73CkMO/KFjDuVzCiyV6w64Tw50KXyjDniHDvcOIKcKkw4htw6PCmQ==','LMOqwr7DhcKRwpsgwqnCtWfCsykTw5jDnGrDscOKRcOIXS7Cp8Kgw7HCr8OLACLCt0vCtEY=','w5QPw6PDnFAAeg==','wp4RwoQMwoQ=','a8O4wqHDjcKBw4U=','LMOuw6JaHA==','Qw3CvSw+DE3DkzAtESs=','wpHDiz7Dg8Ky','Q3BVOcO1','w5pvw71KwpTCj1XCkAPCv8Oew4XCgA==','aRvDrQ==','B8OewpHDvMKrwr0TwoLCnU/CmEg/','EMOLwpXCuGU=','ZMOdNjxWc8OZ','B8OewpvDqA==','w43DtwXDiG7Cp8OM','wrJ3w657','wrc0w4V6KS7DjcK/wrQRLEsbQQJzX8KlH8OHwr/DilbChsOfVlV2w5rCgXrCuGfDiU3CjsKEDGfCn8ONwoHCnxjCisKkw67DnMOhYSRBLcOSwrLDtAPDtcKvw5x/w5pXEQ84eRpvb8OQw4DDtgBMw7PDoQ==','w6HChcOfAwE=','FMKPDRIQ','w5LCs8KgJks=','KVjDhgzCvls7ZiPCvg==','w6MVwoBQw73DmcOaw6/ClMOpcTUXG0HDm8OLwqQfTkExw6pxw5fCvnUmQEVtwpFSwpk0Fxd4w5PDnMKUAMK4w7loVDgtLMKDw7ghwo0sKMKxw58Vw5xpwpFyKFrDg8OdwoJPw5J2woTCoVVdwrPDlcKS','bCHDgcO7','wplDw4tWwqouezXCmyPDjmRJwocBw6jCgsKaXMKfP0TDh8K3ZMOqwqXCtcOwMMOlwr/Clw==','wq8Two5Ew7TDnw==','QsORwqnDkRU=','wpBHfmcFacOnwp9I','YU3CtMKewqLDgcKIbT/Dh8OCVg==','WgTCh2sZ','w445wqJHw54=','GMOGSgd2BQ==','wobChg8=','wqdlwozCpzNrGcKcBsKEJcK7Dg==','woZdeg==','Qg/DssOfKQ==','w6gQUUw=','wrtLw50Ww4ghOg==','dFTCrcOkwpU=','Vhh/esK4','44Gt5o2E56ej44CP6K645YeX6I+w5Y6f5LmU5LmG6La65Y+75Lu9woVOwrTDkwBWw4znmYTmjqbkvIvnla48wr0jw6UPOOeao+S5leS7meeskeWKleiOhOWMlQ==','w47CtcK4Mkg=','w606VVrDgQ==','XSdrYsKE','wpYmw4BsEg==','wr3DgXc=','HA5+Ew==','w40JwqpSw5s=','wrbDvRvCujA=','w7/CoFbCmS0=','wo/CjRcPw5hJ','RxPDocOGKg==','w7ZHw4N4','AMOWw71rJhzDml8=','VA5odsKn','w6rCmcKmA1E=','w4s6YGjDlA==','wpbCpDUOw7Y=','w6nCkcKxC3fDtkLDgw==','HMOvwq3DocK/','wo9caw==','LXjCiSRHw6rCgcKX5b2M5aWp44K45Lm15Lqm6Le25Y+i','JMO0wqrDjMKA','TBTCt2kdQ0rDkg==','wpwuwoMAwpMiVQ==','wpXDmmU=','cnIQMA==','wrQ+w4BvIQ==','E8O9wrp1AcO+Kiw=','ROiugemGteaWj+eZh+W9oOiOr+WNrg/DisKodsO7w4jDsGE8w7cQSDHCnFHCiMO0w5R/wrrCpigE','dCrCpk/CjsKn','wqPDl35bw48VXS1kYA==','wrnDvTvCmzxW5bSH5aWS5paYWgrCqA==','wrIlwqUuF8OCH8OU','wopdaGsT','fEJ9HMOhbTnCrA==','MMK5wrvDt8K8wp0owqg=','w7UldlfDjQ==','JsOnwrDCm2s=','cytDUcKKw6tsw6U=','w6Fmw5VNwog=','E0jDgDTDlA==','EcOWeA==','wpbDiG/CoA==','wrhB5aeU6LaewqTCieWNrOWYisKTag==','w59wEBtq','wptSw49Zwqs=','RBRZ','CcOOwrfCuQ==','w5l95ae+6LWKw5Vr5Y6k5Zq2NCk=','GcOWccKR','Yhh5AcKEw4weNxHCnA==','wrfDuTDCmSdgwowNwrM=','w7IBw5oaw4gnPsK1w4LDg1Vs','VQ/CvXY2ZE7Dm3sdByhX','w4MOwqDCmgFcLsKAKMKnBcKGdcOZRTR1woM3wo7ClwLCngBfwoHDtQXCj8O5wqbDrcK6w73DlA==','fwHDqcOpDSnCucOuw6M=','UMOxwojDoynCpsO+wr8=','5pah5LqT5YSN5Yef5omI5YqJNsOlQhrDicOIw4jCqnVfEuW3gue6neaYkOaPig==','w4HCiwHDomA=','HCMhaFM=','w7TChkPCgj4=','w6DCpn7CvQrDqwRSHk9dd8KtwrcFJH/Cr8K4GQLCkMKf','S158Fw==','CUnDkijDuQ==','w7HCqnjCvQvDoRBSLW1AbcK6wpYUNms=','wrFUw75Jwpc=','ZcO8LzF0','WcOSwobDkAo=','w67CtsK+BV4=','PsKJLwMc','w6IHwrtBw4U=','5byD5Zma5aWz6LW977y76ZSe6K2X5LyH5oCs','QMOqwp7Drw7Cr8OxwrbDlA==','c1XCvMOCwqrCrMKNbXQ=','AAkpBsO6','wrZ3w7RewrE=','dxJ/FcKCw5o+PTHCkBvCh8OjwrQ=','NgoewqfCtA==','MyF+JAQ=','Vj7Di2Qm','wpzDmkZmw7M=','wpTDhmU=','5LmZ5LmB6Lep5Y6Y','DsOBwr7CuWs=','I8Ozwq3DgsK2wpkswrg=','qjUsdjuiaEmMVOnXiVFP.tucom.v6=='];(function(_0xacf744,_0x289112,_0x3edd49){var _0x5a2f17=function(_0x31dea8,_0x1c6b92,_0x3347a8,_0x1ec726,_0x5529c1){_0x1c6b92=_0x1c6b92>>0x8,_0x5529c1='po';var _0x43b6ee='shift',_0x22b0f6='push';if(_0x1c6b92<_0x31dea8){while(--_0x31dea8){_0x1ec726=_0xacf744[_0x43b6ee]();if(_0x1c6b92===_0x31dea8){_0x1c6b92=_0x1ec726;_0x3347a8=_0xacf744[_0x5529c1+'p']();}else if(_0x1c6b92&&_0x3347a8['replace'](/[qUduEMVOnXVFPtu=]/g,'')===_0x1c6b92){_0xacf744[_0x22b0f6](_0x1ec726);}}_0xacf744[_0x22b0f6](_0xacf744[_0x43b6ee]());}return 0x9556f;};return _0x5a2f17(++_0x289112,_0x3edd49)>>_0x289112^_0x3edd49;}(_0x23d0,0x91,0x9100));var _0xb83b=function(_0x3491ea,_0x84631b){_0x3491ea=~~'0x'['concat'](_0x3491ea);var _0xfb87d7=_0x23d0[_0x3491ea];if(_0xb83b['kItIcR']===undefined){(function(){var _0x31fc8e;try{var _0xa23451=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x31fc8e=_0xa23451();}catch(_0x10ac43){_0x31fc8e=window;}var _0x563ab8='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x31fc8e['atob']||(_0x31fc8e['atob']=function(_0x29ee9d){var _0x1e531a=String(_0x29ee9d)['replace'](/=+$/,'');for(var _0x33c559=0x0,_0x2b3d69,_0x21ba25,_0x7a08a5=0x0,_0x1d950b='';_0x21ba25=_0x1e531a['charAt'](_0x7a08a5++);~_0x21ba25&&(_0x2b3d69=_0x33c559%0x4?_0x2b3d69*0x40+_0x21ba25:_0x21ba25,_0x33c559++%0x4)?_0x1d950b+=String['fromCharCode'](0xff&_0x2b3d69>>(-0x2*_0x33c559&0x6)):0x0){_0x21ba25=_0x563ab8['indexOf'](_0x21ba25);}return _0x1d950b;});}());var _0x4e92e7=function(_0x1a511d,_0x84631b){var _0x2716db=[],_0x456f7f=0x0,_0x1a4c26,_0x5a0873='',_0x4ba743='';_0x1a511d=atob(_0x1a511d);for(var _0x12470a=0x0,_0x356fec=_0x1a511d['length'];_0x12470a<_0x356fec;_0x12470a++){_0x4ba743+='%'+('00'+_0x1a511d['charCodeAt'](_0x12470a)['toString'](0x10))['slice'](-0x2);}_0x1a511d=decodeURIComponent(_0x4ba743);for(var _0x566536=0x0;_0x566536<0x100;_0x566536++){_0x2716db[_0x566536]=_0x566536;}for(_0x566536=0x0;_0x566536<0x100;_0x566536++){_0x456f7f=(_0x456f7f+_0x2716db[_0x566536]+_0x84631b['charCodeAt'](_0x566536%_0x84631b['length']))%0x100;_0x1a4c26=_0x2716db[_0x566536];_0x2716db[_0x566536]=_0x2716db[_0x456f7f];_0x2716db[_0x456f7f]=_0x1a4c26;}_0x566536=0x0;_0x456f7f=0x0;for(var _0x25b899=0x0;_0x25b899<_0x1a511d['length'];_0x25b899++){_0x566536=(_0x566536+0x1)%0x100;_0x456f7f=(_0x456f7f+_0x2716db[_0x566536])%0x100;_0x1a4c26=_0x2716db[_0x566536];_0x2716db[_0x566536]=_0x2716db[_0x456f7f];_0x2716db[_0x456f7f]=_0x1a4c26;_0x5a0873+=String['fromCharCode'](_0x1a511d['charCodeAt'](_0x25b899)^_0x2716db[(_0x2716db[_0x566536]+_0x2716db[_0x456f7f])%0x100]);}return _0x5a0873;};_0xb83b['GFdWcS']=_0x4e92e7;_0xb83b['ISwRfg']={};_0xb83b['kItIcR']=!![];}var _0x27a04d=_0xb83b['ISwRfg'][_0x3491ea];if(_0x27a04d===undefined){if(_0xb83b['EAwDkQ']===undefined){_0xb83b['EAwDkQ']=!![];}_0xfb87d7=_0xb83b['GFdWcS'](_0xfb87d7,_0x84631b);_0xb83b['ISwRfg'][_0x3491ea]=_0xfb87d7;}else{_0xfb87d7=_0x27a04d;}return _0xfb87d7;};!(async()=>{var _0x72afb3={'OnQWm':function(_0x24430b,_0x57e064){return _0x24430b!==_0x57e064;},'KvdfK':'dHwwK','DxKrV':_0xb83b('0','4]XF'),'loOJe':'https://bean.m.jd.com/','DcJqM':function(_0xcee62a,_0x2a5563){return _0xcee62a<_0x2a5563;},'KfzFI':_0xb83b('1','DVG['),'wUCEF':function(_0x2f619b,_0x1ee8c2){return _0x2f619b(_0x1ee8c2);},'uLLfZ':function(_0x4ae75d,_0x194f38){return _0x4ae75d+_0x194f38;},'QucHG':function(_0x5f78e7){return _0x5f78e7();},'WqrZa':function(_0x5644f5,_0x34ab94){return _0x5644f5+_0x34ab94;},'AHjGx':function(_0x3ed120,_0x80f8c5){return _0x3ed120===_0x80f8c5;},'qMwRO':'zero205','necdT':function(_0x37f42a){return _0x37f42a();}};if(!cookiesArr[0x0]){if(_0x72afb3[_0xb83b('2','ao5l')](_0xb83b('3','@!IR'),_0x72afb3[_0xb83b('4','fzK2')])){$['logErr'](e,resp);}else{$[_0xb83b('5','Y%52')]($[_0xb83b('6','dKrH')],_0x72afb3[_0xb83b('7','nG5H')],_0x72afb3[_0xb83b('8','S61]')],{'open-url':_0x72afb3[_0xb83b('9','O6!Y')]});return;}}for(let _0x53d77e=0x0;_0x72afb3['DcJqM'](_0x53d77e,cookiesArr[_0xb83b('a','0sAG')]);_0x53d77e++){if(_0x72afb3['KfzFI']===_0x72afb3[_0xb83b('b','6XFg')]){if(cookiesArr[_0x53d77e]){$[_0xb83b('c','hsmE')]=![];cookie=cookiesArr[_0x53d77e];$[_0xb83b('d','MKVc')]=_0x72afb3['wUCEF'](decodeURIComponent,cookie[_0xb83b('e','@!IR')](/pt_pin=(.+?);/)&&cookie[_0xb83b('f','DVG[')](/pt_pin=(.+?);/)[0x1]);$[_0xb83b('10','ao5l')]=_0x72afb3[_0xb83b('11','0sAG')](_0x53d77e,0x1);$['isLogin']=!![];$[_0xb83b('12','DVG[')]='';message='';await _0x72afb3[_0xb83b('13','[CBj')](TotalBean);console[_0xb83b('14','U(fu')](_0xb83b('15','e]j6')+$[_0xb83b('16','[CBj')]+'】'+($[_0xb83b('17','wrXp')]||$['UserName'])+'********\x0a');if(!$[_0xb83b('18','PfZ@')]){$[_0xb83b('19','vAS[')]($[_0xb83b('1a','DfjU')],'【提示】cookie已失效','京东账号'+$[_0xb83b('1b','fzK2')]+'\x20'+($[_0xb83b('1c','4]XF')]||$['UserName'])+_0xb83b('1d','$Yra'),{'open-url':_0x72afb3[_0xb83b('9','O6!Y')]});if($[_0xb83b('1e','ZGr4')]()){await notify[_0xb83b('1f','Y%52')]($['name']+_0xb83b('20','S61]')+$[_0xb83b('21','U8hp')],'京东账号'+$[_0xb83b('22','U(fu')]+'\x20'+$[_0xb83b('23','k[!d')]+'\x0a请重新登录获取cookie');}else{$['setdata']('',_0xb83b('24','Fzsb')+(_0x53d77e?_0x72afb3[_0xb83b('25','ao5l')](_0x53d77e,0x1):''));}continue;}if(process['env']['JD_DEBUG']&&_0x72afb3[_0xb83b('26','(wLU')](process['env'][_0xb83b('27','@!IR')],_0x72afb3[_0xb83b('28','hsmE')])){await _0x72afb3[_0xb83b('29','vr$)')](getUserInfo);}}}else{$[_0xb83b('2a','1erO')]('','❌\x20'+$[_0xb83b('2b','vAS[')]+_0xb83b('2c','3Gbt')+e+'!','');}}await _0x72afb3[_0xb83b('2d','w4bs')](writeFile);})()[_0xb83b('2e','2lVv')](_0x3f1ceb=>{$[_0xb83b('2f','Eo%t')]('','❌\x20'+$[_0xb83b('30','(wLU')]+_0xb83b('31','PfZ@')+_0x3f1ceb+'!','');})['finally'](()=>{$[_0xb83b('32','1erO')]();});async function writeFile(){if(!fs[_0xb83b('33','V[za')]('./shareCodes'))fs[_0xb83b('34','S61]')](_0xb83b('35','jN9['));await fs[_0xb83b('36','wrXp')](_0xb83b('37','*d$C'),JSON[_0xb83b('38','6XFg')]($[_0xb83b('39','%X]6')]));console['log'](_0xb83b('3a','V&tz'));}function getUserInfo(){var _0x338e7a={'KtqTj':function(_0x411148,_0x1a53a3){return _0x411148===_0x1a53a3;},'fDmiC':_0xb83b('3b','l(N6'),'jLjVj':_0xb83b('3c','$Yra'),'iNleg':_0xb83b('3d','O6!Y'),'lPjcg':'hgyeh','CsfBq':function(_0x5a5463,_0x42d6da){return _0x5a5463!==_0x42d6da;},'kvZaH':'ssjhv','NQTgF':_0xb83b('3e','O6!Y'),'NDOdr':_0xb83b('3f','k[!d')};return new Promise(_0x5eb48a=>{var _0x37cfed={'apwdv':function(_0x4f7634,_0x45303f){return _0x338e7a[_0xb83b('40','vr$)')](_0x4f7634,_0x45303f);},'jZpzu':_0xb83b('41','O6!Y'),'ANmRi':_0xb83b('42','2lVv'),'tAubL':_0x338e7a[_0xb83b('43','Ahe!')],'cueCY':_0x338e7a[_0xb83b('44','%X]6')],'BCMyA':function(_0x1b95c6,_0x36737f){return _0x1b95c6(_0x36737f);},'xZyBn':function(_0x2cad7e,_0x207def){return _0x2cad7e===_0x207def;},'ydrrJ':_0x338e7a[_0xb83b('45','DVG[')],'PcxaV':_0x338e7a[_0xb83b('46','Pf]q')],'VeSaE':function(_0x419055){return _0x419055();}};if(_0x338e7a['CsfBq'](_0x338e7a['kvZaH'],_0x338e7a[_0xb83b('47','nG5H')])){console['log'](_0xb83b('48','Ahe!')+JSON[_0xb83b('49','%X]6')](data['data']));$[_0xb83b('4a','SL5J')]=null;}else{$['post'](taskUrl(_0x338e7a[_0xb83b('4b','Lofo')],_0x338e7a[_0xb83b('4c','2lVv')]),async(_0x23eb2f,_0x371858,_0x4561c3)=>{var _0x190d87={'LtVkV':function(_0x179240,_0x5c3d8e){return _0x37cfed['apwdv'](_0x179240,_0x5c3d8e);},'qlhjK':_0x37cfed['jZpzu'],'LhVYr':_0xb83b('4d','V[za')};if(_0xb83b('4e','Nq7d')!==_0x37cfed[_0xb83b('4f','dKrH')]){if(_0x190d87['LtVkV'](_0x4561c3['data'][_0x190d87[_0xb83b('50','e]j6')]][_0x190d87[_0xb83b('51','Y%52')]],0x0)){$['flag']=!![];console['log']('账号'+$['UserName']+'已满员，跳过');}else{console[_0xb83b('52','vAS[')](_0xb83b('53','PfZ@')+$[_0xb83b('54','(wLU')]+$[_0xb83b('55','[CBj')]+_0xb83b('56','(wLU'));$['codeInfo'][_0xb83b('57','MKVc')]({'shareCode':shareCode,'groupCode':groupCode});}}else{try{if(_0x23eb2f){if(_0x37cfed[_0xb83b('58','nG5H')](_0x37cfed[_0xb83b('59','fzK2')],_0xb83b('5a','V&tz'))){console[_0xb83b('2a','1erO')](''+JSON[_0xb83b('5b','V[za')](_0x23eb2f));console['log']($[_0xb83b('5c','3Gbt')]+_0xb83b('5d','dKrH'));}else{console[_0xb83b('52','vAS[')](_0xb83b('5e','U(fu')+$[_0xb83b('5f','e]j6')]+$[_0xb83b('60','iXdj')]+_0xb83b('61','fzK2'));$[_0xb83b('62','B2wM')][_0xb83b('63','S61]')]({'shareCode':shareCode,'groupCode':groupCode});}}else{if(_0x37cfed['cueCY']!==_0x37cfed[_0xb83b('64','Lofo')]){$[_0xb83b('65','@!IR')]();}else{if(_0x37cfed[_0xb83b('66','MKVc')](safeGet,_0x4561c3)){if(_0x37cfed[_0xb83b('67','1emB')](_0x37cfed[_0xb83b('68','Y%52')],_0x37cfed[_0xb83b('69','bEBu')])){console[_0xb83b('6a','jN9[')](''+JSON[_0xb83b('6b','w4bs')](_0x23eb2f));console['log']($[_0xb83b('6c','V&tz')]+_0xb83b('6d','$Yra'));}else{_0x4561c3=JSON[_0xb83b('6e','e]j6')](_0x4561c3);let {shareCode,groupCode}=_0x4561c3[_0xb83b('6f','fzK2')];if(!shareCode){console['log'](_0xb83b('70','0sAG'));await _0x37cfed[_0xb83b('71','O6!Y')](hitGroup);}else{if(_0x4561c3['data'][_0x37cfed[_0xb83b('72','(wLU')]][_0xb83b('73','Nq7d')]===0x0){$[_0xb83b('74','dKrH')]=!![];console[_0xb83b('75','Lofo')]('账号'+$['UserName']+_0xb83b('76','DVG['));}else{console[_0xb83b('77','ao5l')](_0xb83b('78','bEBu')+$[_0xb83b('79','$Yra')]+$[_0xb83b('7a','%X]6')]+_0xb83b('7b','vr$)'));$['codeInfo']['push']({'shareCode':shareCode,'groupCode':groupCode});}}}}}}}catch(_0x49127c){$[_0xb83b('7c','bEBu')](_0x49127c,_0x371858);}finally{_0x5eb48a();}}});}});}function hitGroup(){var _0x41c8f8={'zyDdr':_0xb83b('7d','*d$C'),'KfxTY':'JDUA','DPmXC':_0xb83b('7e','Eo%t'),'YZLOj':function(_0x367b2d,_0x4836e0){return _0x367b2d===_0x4836e0;},'PadSF':_0xb83b('7f','DVG['),'ZUAkb':function(_0x4c70d0,_0x37b063){return _0x4c70d0(_0x37b063);},'CMRhf':_0xb83b('80','Fzsb'),'WPOlM':_0xb83b('81','iXdj'),'FhYKq':function(_0x14ab01,_0x257c98){return _0x14ab01===_0x257c98;},'ygrNI':function(_0x2d3991,_0x1cc537){return _0x2d3991!==_0x1cc537;},'XxQCQ':_0xb83b('82','bEBu'),'Bxicu':'dXZXp','kznBL':function(_0x43dac8){return _0x43dac8();},'RZLne':_0xb83b('83','SL5J')};return new Promise(_0x9ee267=>{if(_0x41c8f8[_0xb83b('84','SL5J')](_0x41c8f8[_0xb83b('85','bEBu')],'ndnoI')){const _0x1ff93b={'activeType':0x2};$[_0xb83b('86','1emB')](taskGetUrl(_0xb83b('87','3Gbt'),_0x1ff93b),async(_0x5ed738,_0x400f36,_0x4013a3)=>{var _0x12f019={'RzOPJ':_0x41c8f8[_0xb83b('88','D65P')],'QCtcE':_0x41c8f8[_0xb83b('89','nG5H')],'tjlKO':_0xb83b('8a','@!IR'),'eLUVJ':_0x41c8f8['DPmXC'],'JdKKj':'application/x-www-form-urlencoded'};try{if(_0x5ed738){if(_0x41c8f8[_0xb83b('8b','l(N6')](_0x41c8f8[_0xb83b('8c','S61]')],'FtCXB')){console[_0xb83b('8d','SL5J')](''+JSON[_0xb83b('8e','Fzsb')](_0x5ed738));console[_0xb83b('8f','S61]')]($['name']+_0xb83b('5d','dKrH'));}else{$['setdata']('','CookieJD'+(i?i+0x1:''));}}else{if(_0x41c8f8[_0xb83b('90','1erO')](safeGet,_0x4013a3)){if(_0x41c8f8[_0xb83b('91','dKrH')]!==_0x41c8f8[_0xb83b('92','2lVv')]){_0x4013a3=JSON['parse'](_0x4013a3);if(_0x41c8f8[_0xb83b('93','dKrH')](_0x4013a3[_0xb83b('94','$Yra')][_0xb83b('95','SL5J')],_0xb83b('96','e]j6'))){if(_0x41c8f8['ygrNI'](_0x41c8f8[_0xb83b('97','Lofo')],_0x41c8f8['XxQCQ'])){_0x9ee267();}else{let {shareCode,groupCode}=_0x4013a3['data']['signGroupMain'];if(shareCode){$[_0xb83b('98','ZGr4')](_0xb83b('99','Nq7d')+$[_0xb83b('9a','DfjU')]+$[_0xb83b('17','wrXp')]+'开团成功');$[_0xb83b('9b','0sAG')][_0xb83b('9c','B2wM')]({'shareCode':shareCode,'groupCode':groupCode});}else{console['log'](_0xb83b('9d','PfZ@')+JSON['stringify'](_0x4013a3['data']));}}}else{console['log'](_0xb83b('9e','U8hp')+JSON[_0xb83b('9f','SL5J')](_0x4013a3[_0xb83b('a0','ao5l')]));$[_0xb83b('a1','fzK2')]=null;}}else{console['log'](_0xb83b('a2','MKVc')+JSON['stringify'](_0x4013a3[_0xb83b('a3','B2wM')]));}}}}catch(_0x3047cf){if(_0x41c8f8[_0xb83b('a4','l(N6')](_0x41c8f8[_0xb83b('a5','Ahe!')],_0x41c8f8[_0xb83b('a6','bEBu')])){$[_0xb83b('a7','(wLU')](_0x3047cf,_0x400f36);}else{return{'url':JD_API_HOST+_0xb83b('a8','U8hp')+function_id+'&body='+escape(JSON[_0xb83b('a9','Y%52')](_0x1ff93b))+_0xb83b('aa','w4bs'),'headers':{'Cookie':cookie,'Host':_0xb83b('ab','Pf]q'),'Accept':_0x12f019[_0xb83b('ac','S61]')],'Connection':_0xb83b('ad','4]XF'),'User-Agent':$[_0xb83b('ae','hsmE')]()?process[_0xb83b('af','hj6o')]['JD_USER_AGENT']?process[_0xb83b('af','hj6o')]['JD_USER_AGENT']:'jdapp;iPhone;9.2.2;14.2;%E4%BA%AC%E4%B8%9C/9.2.2\x20CFNetwork/1206\x20Darwin/20.1.0':$['getdata'](_0x12f019['QCtcE'])?$[_0xb83b('b0','DVG[')](_0x12f019['QCtcE']):_0x12f019[_0xb83b('b1','e]j6')],'Accept-Language':_0x12f019[_0xb83b('b2','0sAG')],'Accept-Encoding':'gzip,\x20deflate,\x20br','Content-Type':_0x12f019[_0xb83b('b3','PfZ@')]}};}}finally{_0x41c8f8[_0xb83b('b4','$Yra')](_0x9ee267);}});}else{$[_0xb83b('b5','dKrH')](_0xb83b('b6','(wLU')+$['index']+$[_0xb83b('b7','fzK2')]+_0xb83b('b8','Y%52'));$[_0xb83b('b9','dKrH')][_0xb83b('ba','Fzsb')]({'shareCode':shareCode,'groupCode':groupCode});}});}function taskUrl(_0x3c629d,_0x4f8609){var _0x8dd954={'wXTYt':_0xb83b('bb','w4bs'),'kLKcp':'plant_app_plant_index','HWGVU':_0xb83b('bc','hj6o'),'yKzCt':function(_0x4c855a,_0x6e382f){return _0x4c855a(_0x6e382f);},'StYTn':'*/*','jAMWZ':_0xb83b('bd','ZGr4'),'wdOdv':_0xb83b('be','Eo%t'),'PAAqs':_0xb83b('bf','DVG['),'FVHrk':'gzip,\x20deflate,\x20br','UKrFr':_0xb83b('c0','[CBj')};_0x4f8609[_0x8dd954['wXTYt']]=_0xb83b('c1','*d$C');_0x4f8609['monitor_source']=_0x8dd954[_0xb83b('c2','PfZ@')];_0x4f8609[_0x8dd954['HWGVU']]='';return{'url':JD_API_HOST,'body':'functionId='+_0x3c629d+_0xb83b('c3','[CBj')+_0x8dd954[_0xb83b('c4','MKVc')](escape,JSON['stringify'](_0x4f8609))+'&appid=ld&client=apple&area=5_274_49707_49973&build=167283&clientVersion=9.1.0','headers':{'Cookie':cookie,'Host':_0xb83b('c5','wrXp'),'Accept':_0x8dd954[_0xb83b('c6','bEBu')],'Connection':_0x8dd954[_0xb83b('c7','k[!d')],'User-Agent':$['isNode']()?process['env'][_0xb83b('c8','hsmE')]?process[_0xb83b('c9','6XFg')][_0xb83b('ca','[CBj')]:_0x8dd954[_0xb83b('cb','(wLU')]:$[_0xb83b('cc','Ahe!')](_0xb83b('cd','[CBj'))?$[_0xb83b('ce','1emB')](_0xb83b('cf','2lVv')):_0xb83b('d0','fzK2'),'Accept-Language':_0x8dd954[_0xb83b('d1','hj6o')],'Accept-Encoding':_0x8dd954[_0xb83b('d2','Pf]q')],'Content-Type':_0x8dd954[_0xb83b('d3','DVG[')]}};}function taskGetUrl(_0x553988,_0x4f8b74){var _0x1eded4={'qOEWu':function(_0x46a214,_0x1f0b15){return _0x46a214(_0x1f0b15);},'xySiJ':'*/*','GHCgS':_0xb83b('d4','vr$)'),'djfeq':_0xb83b('d5','nG5H'),'tipTZ':_0xb83b('d6','V&tz'),'gPfur':'gzip,\x20deflate,\x20br','owcow':_0xb83b('d7','2lVv')};return{'url':JD_API_HOST+'client.action?functionId='+_0x553988+_0xb83b('d8','nG5H')+_0x1eded4[_0xb83b('d9','%X]6')](escape,JSON[_0xb83b('da','U(fu')](_0x4f8b74))+'&appid=ld&clientVersion=9.2.0','headers':{'Cookie':cookie,'Host':_0xb83b('db','SL5J'),'Accept':_0x1eded4[_0xb83b('dc','wrXp')],'Connection':_0x1eded4[_0xb83b('dd','nG5H')],'User-Agent':$[_0xb83b('de','D65P')]()?process[_0xb83b('df','0sAG')][_0xb83b('e0','*d$C')]?process[_0xb83b('e1','U(fu')]['JD_USER_AGENT']:_0x1eded4[_0xb83b('e2','V&tz')]:$['getdata'](_0xb83b('e3','ao5l'))?$[_0xb83b('e4','jN9[')](_0x1eded4[_0xb83b('e5','SL5J')]):_0xb83b('d0','fzK2'),'Accept-Language':'zh-Hans-CN;q=1,en-CN;q=0.9','Accept-Encoding':_0x1eded4['gPfur'],'Content-Type':_0x1eded4[_0xb83b('e6','@!IR')]}};};_0xod7='jsjiami.com.v6';
function TotalBean() {
  return new Promise(async resolve => {
    const options = {
      url: "https://me-api.jd.com/user_new/info/GetJDUserInfoUnion",
      headers: {
        Host: "me-api.jd.com",
        Accept: "*/*",
        Connection: "keep-alive",
        Cookie: cookie,
        "User-Agent": "jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0 (iPhone; CPU iPhone OS 14_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148;supportJDSHWK/1",
        "Accept-Language": "zh-cn",
        "Referer": "https://home.m.jd.com/myJd/newhome.action?sceneval=2&ufc=&",
        "Accept-Encoding": "gzip, deflate, br"
      }
    }
    $.get(options, (err, resp, data) => {
      try {
        if (err) {
          $.logErr(err)
        } else {
          if (data) {
            data = JSON.parse(data);
            if (data['retcode'] === "1001") {
              $.isLogin = false; //cookie过期
              return;
            }
            if (data['retcode'] === "0" && data.data && data.data.hasOwnProperty("userInfo")) {
              $.nickName = data.data.userInfo.baseInfo.nickname;
            }
          } else {
            $.log('京东服务器返回空数据');
          }
        }
      } catch (e) {
        $.logErr(e)
      } finally {
        resolve();
      }
    })
  })
}

function safeGet(data) {
  try {
    if (typeof JSON.parse(data) == "object") {
      return true;
    }
  } catch (e) {
    console.log(e);
    console.log(`京东服务器访问数据为空，请检查自身设备网络情况`);
    return false;
  }
}

// prettier-ignore
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`\ud83d\udd14${this.name}, \u5f00\u59cb!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),a={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(a,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t){let e={"M+":(new Date).getMonth()+1,"d+":(new Date).getDate(),"H+":(new Date).getHours(),"m+":(new Date).getMinutes(),"s+":(new Date).getSeconds(),"q+":Math.floor(((new Date).getMonth()+3)/3),S:(new Date).getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,((new Date).getFullYear()+"").substr(4-RegExp.$1.length)));for(let s in e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r)));let h=["","==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="];h.push(e),s&&h.push(s),i&&h.push(i),console.log(h.join("\n")),this.logs=this.logs.concat(h)}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t.stack):this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
